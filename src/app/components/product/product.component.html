<div class="rounded-3xl bg-gray-100 flex flex-col px-4 pb-5">
  <div class="min-h-[310px] transition-transform duration-200">
    <img
      [src]="
        selectedColor === 'space-grey'
          ? product().images['space-grey']
          : product().images['silver']
      "
    />
  </div>

  <!-- selected color -->
  <div class="text-left">
    <span *ngIf="selectedColor === 'space-grey'" class="text-xs text-gray-600">
      {{ product().descriptions["space-grey"] }}
    </span>
    <span *ngIf="selectedColor === 'silver'" class="text-xs text-gray-600">
      {{ product().descriptions["silver"] }}
    </span>
    <div class="flex items-center space-x-2">
      <div
        [tabIndex]="0"
        class="p-[1px] border-2 rounded-full cursor-pointer focus:border-blue-500"
      >
        <div
          class="p-[2px] border-2 rounded-full cursor-pointer"
          [ngClass]="{
            'border-blue-500': selectedColor === 'space-grey',
            'border-none': selectedColor !== 'space-grey'
          }"
          (click)="selectColor('space-grey')"
        >
          <div class="w-6 h-6 bg-gray-700 rounded-full"></div>
        </div>
      </div>
      <div
        [tabIndex]="0"
        class="p-[1px] border-2 rounded-full cursor-pointer focus:border-blue-500"
      >
        <div
          class="p-[2px] border-2 rounded-full cursor-pointer"
          [ngClass]="{
            'border-blue-500': selectedColor === 'silver',
            'border-none': selectedColor !== 'silver'
          }"
          (click)="selectColor('silver')"
        >
          <div class="w-6 h-6 bg-gray-300 rounded-full"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="pt-2 px-1">
    <div>
      <div class="pt-1 pb-2">
        <img
          width="51"
          height="51"
          src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp-m3-icon-202310?wid=102&hei=102&fmt=png-alpha&.v=1697039562647"
        />
      </div>

      <h2 class="text-left text-xl font-semibold">
        <div *ngFor="let spec of product().general_specs">{{ spec }}</div>
      </h2>

      <ul class="pt-5 text-left">
        <li
          class="mt-1 text-sm text-gray-600"
          *ngFor="let spec of product().detail_specs"
        >
          {{ spec }}
        </li>
      </ul>

      <div class="pt-5 flex flex-col text-left min-h-44">
        <span class="text-xl font-semibold">{{ product().price }}</span>
        <span class="py-2 text-sm">or</span>
        <span class="text-xl font-semibold">{{ product().installment }}</span>
        <a class="pt-1 text-blue-600 text-sm" href="#">
          Explore monthly instalment options >
          <app-plus-circle></app-plus-circle>
        </a>
      </div>

      <div class="flex flex-col mt-1 mb-6 text-left">
        <h3 class="text-sm text-gray-800 font-semibold">
          {{ product().tradeIn.title }}
        </h3>
        <span class="text-sm text-gray-500">
          {{ product().tradeIn.description }}
        </span>
        <a class="text-sm text-blue-600" href="#"
          >Get started <app-plus-circle></app-plus-circle
        ></a>
      </div>

      <div>
        <button
          class="w-full rounded-lg py-2 px-4 bg-blue-600 text-white text-center"
          (click)="navigateToDetail()"
        >
          Select
        </button>
        <div class="mt-6 text-left">
          <h3 class="text-sm text-gray-800 font-semibold">Need a moment?</h3>
          <span class="text-sm text-gray-500">
            Keep all your selections by saving this device to Your Saves, then
            come back anytime and pick up right where you left off.
          </span>
          <a href="#" class="flex text-blue-600 text-sm">
            <app-bookmark-icon></app-bookmark-icon>
            Save for later
          </a>
        </div>
      </div>

      <div class="md:hidden pt-4 flex gap-x-2">
        <div>
          <app-lorry-icon></app-lorry-icon>
        </div>
        <div class="flex flex-col text-left">
          <span class="text-sm font-semibold">Delivery: </span>
          <span class="text-sm">{{ product().delivery.status }}</span>
          <span class="text-sm">{{ product().delivery.shipping }}</span>
          <a href="#" class="text-blue-600 text-sm">{{
            product().delivery.datesLink
          }}</a>
        </div>
      </div>
      <div class="hidden md:block pt-5">
        <div class="flex flex-col">
          <div class="flex-1 flex gap-2 pt-4">
            <app-lorry-icon></app-lorry-icon>
            <div class="text-sm text-left">
              <p>
                Order today. Delivers to
                <span class="text-blue-600">{{
                  product().delivery.pickup.zipcode
                }}</span>
              </p>
              <p class="font-semibold text-gray-800">
                {{ product().delivery.pickup.dateRange }} â€”
                {{ product().delivery.pickup.cost }}
              </p>
            </div>
          </div>
          <div class="flex-1 flex gap-2 pt-4">
            <app-apple-bag-icon></app-apple-bag-icon>
            <div class="text-sm text-left">
              <p>{{ product().delivery.pickup.pickupMessage }}</p>
              <p class="text-gray-800">
                {{ product().delivery.pickup.pickupAvailability }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
